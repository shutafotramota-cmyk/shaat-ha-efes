<!-- ×’×¨×¡×” ××ª×§×“××ª ×©×œ ×©×¢×ª ×”××¤×¡ ×¢× ××¡×š ×¤×ª×™×—×”, ×¨×¦×£ 5 ×œ×™×œ×•×ª, ×•×¦×‘×¢×™× ×¨×›×™× -->
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>×©×¢×ª ×”××¤×¡ ğŸŒ™</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: linear-gradient(160deg, #2b243a, #3a2f4d, #1f1b2e);
      color: #f5f3f7;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .app {
      background: rgba(255,255,255,0.12);
      padding: 26px;
      border-radius: 28px;
      width: 330px;
      text-align: center;
      box-shadow: 0 20px 50px rgba(0,0,0,0.45);
      backdrop-filter: blur(8px);
      display: none;
    }

    .splash {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(160deg, #3a2f4d, #1f1b2e);
      animation: fadeOut 1s ease forwards;
      animation-delay: 2.5s;
    }

    .splash h1 {
      font-size: 32px;
      margin: 0;
    }

    .splash p {
      margin-top: 10px;
      opacity: 0.8;
    }

    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; }
    }

    h1 { margin-top: 0; }

    .time { font-size: 24px; margin: 14px 0; }

    label { display:block; margin-top:16px; font-size:14px; opacity:0.9; }

    input, textarea {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      border-radius: 14px;
      border: none;
      font-size: 14px;
      background: #f5f3f7;
      color: #2b243a;
    }

    button {
      margin-top: 14px;
      width: 100%;
      padding: 14px;
      font-size: 16px;
      border-radius: 22px;
      border: none;
      cursor: pointer;
      background: linear-gradient(135deg, #e6c9ff, #f7e7ff);
      color: #2b243a;
      font-weight: 600;
    }

    .message { margin-top: 16px; font-size: 15px; }
    .history { margin-top: 16px; font-size: 13px; max-height: 90px; overflow-y: auto; opacity: 0.85; }
  </style>
</head>
<body>

<div class="splash" id="splash">
  <h1>×©×¢×ª ×”××¤×¡ ğŸŒ™</h1>
  <p>×”×¨×’×¢ ×©×‘×• ×”×™×•× × ×’××¨</p>
</div>

<div class="app" id="app">
  <h1>×©×¢×ª ×”××¤×¡ ğŸŒ™</h1>
  <div class="time" id="clock">--:--</div>

  <label>××ª×™ ×‘× ×œ×š ×œ×œ×›×ª ×œ×™×©×•×Ÿ?</label>
  <input type="time" id="sleepTime" />

  <button onclick="saveSleepTime()">ğŸ’¾ ×©××™×¨×ª ×©×¢×ª ×©×™× ×”</button>
  <button onclick="goToSleep()">ğŸŒ™ ×œ×™×œ×” ×˜×•×‘!!!</button>

  <div class="message" id="message"></div>
  <div class="history" id="history"></div>
</div>

<script>
  const messages = [
    "×‘×—×™×¨×” ×¨×›×” ×•×˜×•×‘×” ğŸ’™",
    "×–×” ×¨×’×¢ ×™×¤×” ×œ×¢×¦×•×¨ ×‘×•",
    "×’× ×× ×•×—×” ×”×™× ×”×ª×§×“××•×ª",
    "××—×¨ ××ª ×ª×•×“×” ×œ×¢×¦××š ğŸŒ™"
  ];

  function updateClock() {
    const now = new Date();
    document.getElementById('clock').innerText = now.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' });
  }
  setInterval(updateClock, 1000); updateClock();

  function saveSleepTime() {
    const time = document.getElementById('sleepTime').value;
    localStorage.setItem('sleepTime', time);
    document.getElementById('message').innerText = '×©×¢×ª ×”××¤×¡ × ×©××¨×” ğŸŒ™';
  }

  function goToSleep() {
    const today = new Date().toDateString();
    let streak = JSON.parse(localStorage.getItem('streak') || '{}');

    if (streak.last === today) return;

    const yesterday = new Date(Date.now() - 86400000).toDateString();
    streak.count = streak.last === yesterday ? (streak.count || 1) + 1 : 1;
    streak.last = today;

    localStorage.setItem('streak', JSON.stringify(streak));

    let msg = messages[Math.floor(Math.random() * messages.length)];
    if (streak.count === 5) {
      msg = 'âœ¨ 5 ×œ×™×œ×•×ª ×‘×¨×¦×£! ×–×” ××“×”×™×. âœ¨';
    }

    document.getElementById('message').innerText = msg;
    renderHistory();
  }

  function renderHistory() {
    const history = JSON.parse(localStorage.getItem('history') || '[]');
    history.unshift(new Date().toLocaleString('he-IL'));
    localStorage.setItem('history', JSON.stringify(history.slice(0,10)));
    document.getElementById('history').innerHTML = history.map(h => 'ğŸŒ™ ' + h).join('<br>');
  }

  setTimeout(() => {
    document.getElementById('splash').style.display = 'none';
    document.getElementById('app').style.display = 'block';
  }, 3000);
</script>
</body>
</html>

